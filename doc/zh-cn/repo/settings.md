# 仓库设置

仓库设置用于对当前仓库的属性，成员，分支等一些列操作进行设置

在 `项目首页` 中左侧菜单中点击 `设置` 选项即可展开设置菜单

### 常规

常规设置用于设置 `仓库图标`, `仓库名称` 和 `仓库描述` 

### 分支

分支设置用于设置 `默认分支` 和 `保护分支`  

### 分支 - 默认分支

`默认分支` 用于设置仓库默认分支, 此设置将会影响: 

- 每次进入 `仓库首页` 时, 仓库分支的默认显示
- 每次提交 `合并请求` 时, 目标分支的默认显示

修改 `默认分支` 需要以下操作步骤:

1. 进入 `设置` - `分支` 页面
1. 找到 `默认分支` 这一节
1. 选择需要设置为 `默认分支` 的分支
1. 点击 `设置默认分支` 按钮

### 分支 - 保护分支

`保护分支` 用于设置仓库内特定分支的写权限, 此设置将会影响: 

- 每次处理 `合并请求` 时，向指定分支 `合并` 时会对操作者身份按照 `保护分支规则` 进行检查
- 客户端每次 `push` 时，向指定分支 `push` 时会对操作者身份按照 `保护分支规则` 进行检查

创建 `保护分支规则` 需要以下操作步骤:

1. 进入 `设置` - `分支` 页面
1. 找到 `保护分支` 这一节
1. 点击 `新建保护分支规则` 按钮
1. 设置完 `规则名称`, `允许推送` 和 `允许合并` 后在 `操作` 栏点击 `确定` 按钮即可

### Webhooks

参见: [Webhook](webhooks.md)

### 高级

仓库高级设置用于设置仓库的一些危险操作，包含 `更新创建者`, `更新仓库 URL` 和 `删除仓库`

### 高级 - 更新创建者

`更新创建者` 用于修改 `仓库创建者`

此设置将会影响: 

- 仓库的创建者
- 新设置的 `仓库创建者` 将会拥有该仓库的 `创建者` 身份
- 旧的 `仓库创建者` 将会拥有该仓库的 `所有者` 身份

> 如果你希望旧的 `仓库创建者` 不再拥有该仓库控制权，请在更换完仓库创建者后将旧的 `仓库创建者` 从仓库成员里移除。 参见: [成员管理](members.md)

更换 `更新创建者` 需要以下操作步骤:

1. 进入 `设置` - `高级` 页面
1. 找到 `更新创建者` 这一节
1. 选择新的 `仓库创建者`
1. 认真阅读新弹出的 `危险操作` 对话框中内容，确定要进行此操作后点击 `确定` 按钮即可

### 高级 - 更新仓库 URL

`更新仓库 URL` 用于修改 仓库的 URL

此设置将会影响: 

- 仓库 `Web 页面` 的的访问地址
- Git 客户端连接仓库使用的地址 (包含 `HTTP` 和 SSH `协议`)

> 如果 `仓库 URL` 发生改变, Git 客户端在没更改成新的 URL 之前将无法连接到仓库。 需要使用 `git remote` 系列命令在为客户端修改仓库 URL。参见: [Git 常用命令参考](../git/git_command_reference.md)

修改 `仓库 URL` 需要以下操作步骤:

1. 进入 `设置` - `高级` 页面
1. 找到 `更新仓库 URL` 这一节
1. 输入新的 `仓库 URL`
1. 认真阅读新弹出的 `危险操作` 对话框中内容，确定要进行此操作后点击 `确定` 按钮即可

### 高级 - 删除仓库

`删除仓库` 删除 Git 仓库

此设置将会影响: 

- 仓库 `Web 页面` 的无法继续访问
- Git 客户端无法继续连接该仓库
- 服务器端仓库数据被删除
- 客户端仓库数据保留最后一次同步的数据

注意: 

> 如果仓库被删除，则数据无法恢复

`删除仓库` 需要以下操作步骤:

1. 进入 `设置` - `高级` 页面
1. 找到 `删除仓库` 这一节
1. 认真阅读新弹出的 `危险操作` 对话框中内容，确定要进行此操作后点击 `确定` 按钮即可
